# Layer 3: 端到端集成测试 (人工)

## T3.1: 延迟测试 (生死线: < 500ms)

测试方法:
1. 打开手机录屏 (高帧率模式)
2. 屏幕同时显示服务端日志和记事本
3. 说话后分析帧数计算延迟

| 测试内容 | 松开到出字时间 | 结果 |
|---------|--------------|------|
| “你好” | ______ ms | [ ] Pass [ ] Fail |
| “Hello World” | ______ ms | [ ] Pass [ ] Fail |
| “今天天气不错” | ______ ms | [ ] Pass [ ] Fail |

判定: 3 次平均 < 500ms = 通过

如果超标:
- 检查服务端日志中 ASR 推理耗时 (需要 `GHOSTTYPE_LOG_TIMINGS=1`)
- 确认使用了 GPU (DirectML/CUDA)
- 网络延迟 (远程服务器/LAN)

---

## T3.2: 识别准确性

| 说的内容 | 识别结果 | 准确 |
|---------|---------|------|
| “这是一个测试” | ______________ | [ ] |
| “This is a test” | ______________ | [ ] |
| “Hello 世界” | ______________ | [ ] |
| “打开文件夹” | ______________ | [ ] |

判定: 主要内容正确即通过 (允许标点/空格差异)

---

## T3.3: 异常场景

### 静音测试
- [ ] 按住不说话直接松开
- [ ] 程序崩溃 [ ] 是 [ ] 否
- [ ] 输出内容: ______________

### 噪音测试
- [ ] 有背景噪音时说话
- [ ] 能否识别 [ ] 能 [ ] 不能

### 快速点击测试
- [ ] 连续快速按/松 CapsLock 5 次
- [ ] 程序崩溃 [ ] 是 [ ] 否

### 长音频测试
- [ ] 按住说话超过 10 秒
- [ ] 程序崩溃 [ ] 是 [ ] 否
- [ ] 识别结果: [ ] 正常 [ ] 截断 [ ] 失败

---

## T3.4: 断线重连

步骤:
1. 正常连接状态
2. Ctrl+C 停止服务端
3. 观察客户端:
   - [ ] 崩溃 [ ] 是 [ ] 否
   - [ ] 托盘图标变化: ______________
4. 等待 10 秒，重启服务端
5. 再次按住说话:
   - [ ] 能正常工作 [ ] 是 [ ] 否
   - [ ] 自动重连耗时: ______ 秒

判定: 不崩溃 + 能自动重连 = 通过

---

## 签字确认
- 测试人: ______________
- 日期: ______________
- 平均延迟: ______ ms
- 结果: [ ] 全部通过  [ ] 有问题需修复

